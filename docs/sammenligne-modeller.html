<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapittel 5 Sammenligne modeller | Bygge statistiske modeller med kategoriske prediktorvariabler (ANOVA, t-test)</title>
  <meta name="description" content="En interaktiv bok, skrevet i R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapittel 5 Sammenligne modeller | Bygge statistiske modeller med kategoriske prediktorvariabler (ANOVA, t-test)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="En interaktiv bok, skrevet i R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapittel 5 Sammenligne modeller | Bygge statistiske modeller med kategoriske prediktorvariabler (ANOVA, t-test)" />
  
  <meta name="twitter:description" content="En interaktiv bok, skrevet i R" />
  

<meta name="author" content="Christian Magelssen og Knut Sindre Mølmen" />


<meta name="date" content="2021-04-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bygge-statistisk-modeller.html"/>
<link rel="next" href="hvordan-finne-linjen-i-modellen.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<meta property="og:title" content="Christian Magelssen">
<meta property="og:description" content="Statistikkbok">


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="include/psyteachr.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Bygge modeller med kategoriske prediktorvariabler</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduksjon</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#om-denne-boken"><i class="fa fa-check"></i><b>1.1</b> Om denne boken</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="datasett.html"><a href="datasett.html"><i class="fa fa-check"></i><b>2</b> Datasett</a>
<ul>
<li class="chapter" data-level="2.1" data-path="datasett.html"><a href="datasett.html#bør-man-trene-med-ett-eller-flere-sett-i-styrketrening"><i class="fa fa-check"></i><b>2.1</b> Bør man trene med ett eller flere sett i styrketrening?</a></li>
<li class="chapter" data-level="2.2" data-path="datasett.html"><a href="datasett.html#gjennomsnitt-for-de-to-gruppene"><i class="fa fa-check"></i><b>2.2</b> Gjennomsnitt for de to gruppene</a></li>
<li class="chapter" data-level="2.3" data-path="datasett.html"><a href="datasett.html#figur-av-datasettet"><i class="fa fa-check"></i><b>2.3</b> Figur av datasettet</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="koding-av-kategoriske-prediktorvariabler.html"><a href="koding-av-kategoriske-prediktorvariabler.html"><i class="fa fa-check"></i><b>3</b> Koding av kategoriske prediktorvariabler</a>
<ul>
<li class="chapter" data-level="3.1" data-path="koding-av-kategoriske-prediktorvariabler.html"><a href="koding-av-kategoriske-prediktorvariabler.html#dummykoding"><i class="fa fa-check"></i><b>3.1</b> Dummykoding</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bygge-statistisk-modeller.html"><a href="bygge-statistisk-modeller.html"><i class="fa fa-check"></i><b>4</b> Bygge statistisk modeller</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bygge-statistisk-modeller.html"><a href="bygge-statistisk-modeller.html#introduksjon-til-modellbygging"><i class="fa fa-check"></i><b>4.1</b> Introduksjon til modellbygging</a></li>
<li class="chapter" data-level="4.2" data-path="bygge-statistisk-modeller.html"><a href="bygge-statistisk-modeller.html#visualisering-av-ulike-statistiske-modeller"><i class="fa fa-check"></i><b>4.2</b> Visualisering av ulike statistiske modeller</a></li>
<li class="chapter" data-level="4.3" data-path="bygge-statistisk-modeller.html"><a href="bygge-statistisk-modeller.html#modellbygging-med-null-hypothesis-significance-testing-nhst"><i class="fa fa-check"></i><b>4.3</b> Modellbygging med ‘Null-Hypothesis Significance Testing (NHST)’</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="bygge-statistisk-modeller.html"><a href="bygge-statistisk-modeller.html#null-modellen-null-hypotesen"><i class="fa fa-check"></i><b>4.3.1</b> Null-modellen (null-hypotesen)</a></li>
<li class="chapter" data-level="4.3.2" data-path="bygge-statistisk-modeller.html"><a href="bygge-statistisk-modeller.html#alternativ-modell-alternativ-hypotese"><i class="fa fa-check"></i><b>4.3.2</b> Alternativ modell (alternativ hypotese)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sammenligne-modeller.html"><a href="sammenligne-modeller.html"><i class="fa fa-check"></i><b>5</b> Sammenligne modeller</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sammenligne-modeller.html"><a href="sammenligne-modeller.html#anova-tabell-variansanalyse"><i class="fa fa-check"></i><b>5.1</b> ANOVA-tabell (variansanalyse)</a></li>
<li class="chapter" data-level="5.2" data-path="sammenligne-modeller.html"><a href="sammenligne-modeller.html#teste-statistisk-om-vår-alternative-modell-forklarer-mer-varians-enn-null-modellen"><i class="fa fa-check"></i><b>5.2</b> Teste (statistisk) om vår alternative modell forklarer mer varians enn null-modellen</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="hvordan-finne-linjen-i-modellen.html"><a href="hvordan-finne-linjen-i-modellen.html"><i class="fa fa-check"></i><b>6</b> Hvordan finne linjen i modellen?</a></li>
<li class="chapter" data-level="7" data-path="t-test-er-b-1-signifikant-forskjellig-fra-null.html"><a href="t-test-er-b-1-signifikant-forskjellig-fra-null.html"><i class="fa fa-check"></i><b>7</b> T-test - er <span class="math inline">\(b_1\)</span> signifikant forskjellig fra null?</a></li>
<li class="chapter" data-level="8" data-path="skrive-en-t-test.html"><a href="skrive-en-t-test.html"><i class="fa fa-check"></i><b>8</b> Skrive en t-test</a></li>
<li class="chapter" data-level="9" data-path="sammenligne-flere-grupper.html"><a href="sammenligne-flere-grupper.html"><i class="fa fa-check"></i><b>9</b> Sammenligne flere grupper</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sammenligne-flere-grupper.html"><a href="sammenligne-flere-grupper.html#datasett-1"><i class="fa fa-check"></i><b>9.1</b> Datasett</a></li>
<li class="chapter" data-level="9.2" data-path="sammenligne-flere-grupper.html"><a href="sammenligne-flere-grupper.html#oppsummere-og-visualisere-dataen"><i class="fa fa-check"></i><b>9.2</b> Oppsummere og visualisere dataen</a></li>
<li class="chapter" data-level="9.3" data-path="sammenligne-flere-grupper.html"><a href="sammenligne-flere-grupper.html#dummykoding-1"><i class="fa fa-check"></i><b>9.3</b> Dummykoding</a></li>
<li class="chapter" data-level="9.4" data-path="sammenligne-flere-grupper.html"><a href="sammenligne-flere-grupper.html#anova---er-modellen-vår-bedre-enn-null-modellen"><i class="fa fa-check"></i><b>9.4</b> ANOVA - er modellen vår bedre enn null-modellen?</a></li>
<li class="chapter" data-level="9.5" data-path="sammenligne-flere-grupper.html"><a href="sammenligne-flere-grupper.html#hvilke-grupper-er-forskjellige-post-hoc-testing"><i class="fa fa-check"></i><b>9.5</b> Hvilke grupper er forskjellige? (post-hoc testing)</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regresjon-og-korrelasjon.html"><a href="regresjon-og-korrelasjon.html"><i class="fa fa-check"></i><b>10</b> Regresjon og korrelasjon</a>
<ul>
<li class="chapter" data-level="10.1" data-path="regresjon-og-korrelasjon.html"><a href="regresjon-og-korrelasjon.html#datasett-2"><i class="fa fa-check"></i><b>10.1</b> Datasett</a></li>
<li class="chapter" data-level="10.2" data-path="regresjon-og-korrelasjon.html"><a href="regresjon-og-korrelasjon.html#visualisering-av-dataen"><i class="fa fa-check"></i><b>10.2</b> Visualisering av dataen</a></li>
<li class="chapter" data-level="10.3" data-path="regresjon-og-korrelasjon.html"><a href="regresjon-og-korrelasjon.html#pearsons-korrelasjonskoeffisient-r"><i class="fa fa-check"></i><b>10.3</b> Pearson’s korrelasjonskoeffisient (<em>r</em>)</a></li>
<li class="chapter" data-level="10.4" data-path="regresjon-og-korrelasjon.html"><a href="regresjon-og-korrelasjon.html#regresjon"><i class="fa fa-check"></i><b>10.4</b> Regresjon</a></li>
<li class="chapter" data-level="10.5" data-path="regresjon-og-korrelasjon.html"><a href="regresjon-og-korrelasjon.html#rapportering-av-regresjon"><i class="fa fa-check"></i><b>10.5</b> Rapportering av regresjon</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="vedlegg.html"><a href="vedlegg.html"><i class="fa fa-check"></i><b>11</b> VEDLEGG</a>
<ul>
<li class="chapter" data-level="11.1" data-path="vedlegg.html"><a href="vedlegg.html#datasett-3"><i class="fa fa-check"></i><b>11.1</b> Datasett</a></li>
<li class="chapter" data-level="11.2" data-path="vedlegg.html"><a href="vedlegg.html#modellbygging"><i class="fa fa-check"></i><b>11.2</b> Modellbygging</a></li>
</ul></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="cmagelssen.bo" target="blank">cmagelssen</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bygge statistiske modeller med kategoriske prediktorvariabler (ANOVA, t-test)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sammenligne-modeller" class="section level1" number="5">
<h1><span class="header-section-number">Kapittel 5</span> Sammenligne modeller</h1>
<p>Nå som vi har bygget de to statistiske modellene - <strong>en null-modell</strong> og <strong>en alternativ modell</strong> - hvor går veien videre? Det vi sitter igjen med er en <strong>error</strong> (les sum of squared error) for null-modellen og en error for alternative modellen. Vår neste oppgave er å finne en måte å <strong>sammenligne disse modellene</strong> på. For å gjøre det helt eksplisitt og tydelig, skal vi nå sammenligne om modellen til høyre er bedre enn modellen til venstre.</p>
<div class="info">
<p>Når vi sier at en modell er bedre, så mener vi at den vertikale avstanden fra linjen til datapunktene er kort. Hvis det er stor vertikal avstand fra datapunktet til linjen for mange individer, kan det tyde på at vi har en dårlig modell.</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="05-sammenligne_files/figure-html/unnamed-chunk-2-1.png" alt="Modeller med forskjellig b1" width="100%" />
<p class="caption">
Figur 4.1: Modeller med forskjellig b1
</p>
</div>
<div id="anova-tabell-variansanalyse" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> ANOVA-tabell (variansanalyse)</h2>
<p>En måte vi kan sammenligne modeller på er å bruke en ANOVA-tabell, der vi legger inn erroren vi har regnet for de ulike modellene. Dette er en ganske vanlig tabell som dere kommer til å se flere ganger.</p>
<p><strong>ANOVA-tabell</strong></p>
<table>
<thead>
<tr class="header">
<th>Modell</th>
<th>SS</th>
<th><em>df</em></th>
<th>MS</th>
<th><em>F</em></th>
<th><span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The model sum of squares (SS<sub>M</sub>)</td>
<td><input class='solveme nospaces' size='6' data-answer='["2527.5"]'/></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>The residual sum of squares (SS<sub>R</sub>)</td>
<td><input class='solveme nospaces' size='8' data-answer='["716.2875"]'/></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>The total sum of squares (SS<sub>T</sub>)</td>
<td><input class='solveme nospaces' size='8' data-answer='["3243.784"]'/></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><span style="font-size: 22px; font-weight: bold; color: var(--pink);">Oppgave</span></p>
<ol style="list-style-type: lower-alpha">
<li>Hva er sum of squared error for null-modellen?</li>
</ol>
<div class="info">
<p>Sett dette inn i total sum of squares (SS<sub>T</sub></p>
</div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Hva er sum of squared error for den alternative modellen?</li>
</ol>
<div class="info">
<p>Sett dette inn i residual sum of squares (SS<sub>R</sub>). Dette er error som er igjen etter at man har brukt den alternative-modellen. Man kaller dette for <em>residuals</em></p>
</div>
<ol start="3" style="list-style-type: lower-alpha">
<li>Hvor mye sum of squared error er redusert ved å bruke den alternative modellen i forhold null-modellen?</li>
</ol>
<div class="info">
<p>Sett dette inn i residual sum of squares (SS<sub>M</sub>).Dette kalles The model sum of squares (SS<sub>M</sub>) eller regression i statistiske programmer. Dere regner dette ved å ta (SS<sub>T</sub>-SS<sub>M</sub>).</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Godt jobbet!</span></p>
<p>Det er ønskelig at SS<sub>M</sub> er stor fordi det betyr at den alternative modellen vår forklarer mye error. Det kan ofte være lurt å lage figurer for å se dette visuelt. Det er flere måter å gjøre dette på. Vi liker å plotte dette i et stolpediagram, slik vi har gjort i figuren under. På denne måten er det enkelt å se om modellen vår (SS<sub>M</sub>) er en god eller dårlig modell; hvis høyden på stolpen som representerer SS<sub>M</sub> er høy betyr det at modellen forklarer mye error. I figuren til venstre ser du modellene vi har bygget, og et eksempel på en modell der SS<sub>M</sub> er høy. Figuren til høyre er ment som et sammenligningsgrunnlag, der vi viser et eksempel på en dårlig modell.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-3"></span>
<img src="05-sammenligne_files/figure-html/unnamed-chunk-3-1.png" alt="SS for de ulike modellene" width="60%" />
<p class="caption">
Figur 4.2: SS for de ulike modellene
</p>
</div>
<ul>
<li>SS<sub>T</sub> representerer den totale erroren (dvs. erroren vi fikk ved å bruke null-modellen)</li>
<li>SS<sub>R</sub> representerer hvor mye error som er igjen etter at vi brukte den alternative modellen.</li>
<li>SS<sub>M</sub> er hvor mye error som modellen vår klarte å forklare.</li>
</ul>
<ol start="5" style="list-style-type: lower-alpha">
<li>Hvis du sammenligner med figuren til venstre (vår modell) med figuren til høyre (som kun er brukt et eksempel), vil du si at vår alternative modell er god?</li>
</ol>
<p><select class='solveme' data-answer='["ja"]'> <option></option> <option>ja</option> <option>nei</option></select>.</p>
<ol start="4" style="list-style-type: lower-alpha">
<li>Hva er (SS<sub>T</sub>) - (SS<sub>R</sub>)?</li>
</ol>
<p><input class='solveme nospaces' size='6' data-answer='["2527.5"]'/></p>
<ol start="5" style="list-style-type: lower-alpha">
<li>Hva er (SS<sub>R</sub>) + (SS<sub>M</sub>)?</li>
</ol>
<p><input class='solveme nospaces' size='8' data-answer='["3243.784"]'/></p>
<p>Med erroren vi har tilgjengelig kan vi regne noe som heter proporsjonal feilreduksjon (proportional reduction in error (PRE)). Hvis vi multipliserer dette tallet med 100 (* 100) får vi hvor mange % modellen vår har redusert error med, i forhold til null-modellen. Dette er en effektstørrelse som ofte blir rapoortert sammen med ANOVA eller regresjonsanalyser. I ANOVA ser du at man rapporterer denne som <span class="math inline">\(n^2\)</span>, mens man i regresjonsanalyser kaller denne for <span class="math inline">\(R^2\)</span>. Vi regner ut det på følgende måte:</p>
<p><span class="math display">\[
R^2 = \frac{(SS_T - SS_R)}{SS_T} * 100
\]</span></p>
<ol start="5" style="list-style-type: lower-alpha">
<li>Hvilken verdi får du hvis du regner (SS<sub>M</sub>/ (SS<sub>T</sub>)) * 100?</li>
</ol>
<p><input class='solveme nospaces' size='2' data-answer='["78"]'/> (uten %-tegnet)</p>
<div class="info">
<p>Det er dessverre mange forskjellige navn på denne verdien. Du vil se at folk bruker PRE, <span class="math inline">\(n^2\)</span>. Vit at de mener det samme.</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Ferdig - Bra jobbet!</span></p>
</div>
<div id="teste-statistisk-om-vår-alternative-modell-forklarer-mer-varians-enn-null-modellen" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Teste (statistisk) om vår alternative modell forklarer mer varians enn null-modellen</h2>
<p>En error-reduksjon på 2527.5 (<span class="math inline">\(SS_M\)</span>), eller 78 % (<span class="math inline">\((R^2)*100\)</span>), kan virke mye. Men et problem med disse størrelsene er at de begge er garantert å øke i takt med antall parametere vi legger til i modellen.</p>
<div class="info">
<p>Dere har ikke lært dette enda, men vit at vi kunne bygget en modell der vi inkluderer kjønn, alder, treningsstatus som prediktorvariabler. Da ville dere fått en mer kompleks modell:</p>
<p><span class="math display">\[
Y_i  = b_0 + b_1(Gruppe_i) + b_2(Kjønn_i) + b_3(Treningstatus_i) + b_4(Alder_i)
\]</span></p>
</div>
<p>Derfor er det mer interessant å regne ut gjennomsnittlig <span class="math inline">\(SS_M\)</span> per parameter vi har lagt til i modellen (i forhold til null-modellen). Dette kalles <strong>Mean Squared Model (MSM)</strong>, eller gjennomsnittlig squared error for den alternative modellen, og regnes på følgende måte:</p>
<p><span class="math display">\[
\text{ Mean Squared Model } (MS_M) = SS_M / df_M
\]</span></p>
<p><span class="math inline">\(df_m\)</span> står for antall frihetsgrader som er lagt til i modellen utover null-modellen. Null-modellen har kun ett parameter (<span class="math inline">\(b_0\)</span>), som er mean, mens vår alternative modell har to parametere (<span class="math inline">\(b_0\)</span> og <span class="math inline">\(b_1\)</span>). Derfor blir <span class="math inline">\(df_M\)</span> = (2-1) = 1.</p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--pink);">Oppgave</span></p>
<ol style="list-style-type: lower-alpha">
<li>Regn ut Mean Squared Error (<span class="math inline">\(MS_M\)</span>) og sett det verdien inn i ANOVA-tabellen vår</li>
</ol>
<p><strong>ANOVA-tabell</strong></p>
<table>
<thead>
<tr class="header">
<th>Modell</th>
<th>SS</th>
<th><em>df</em></th>
<th>MS</th>
<th><em>F</em></th>
<th><span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The model sum of squares (SS<sub>M</sub>)</td>
<td>2527.5</td>
<td></td>
<td><input class='solveme nospaces' size='6' data-answer='["2527.5"]'/></td>
<td></td>
<td>0.78</td>
</tr>
<tr class="even">
<td>The residual sum of squares (SS<sub>R</sub>)</td>
<td>716.2875</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>The total sum of squares (SS<sub>T</sub>)</td>
<td>3243.784</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="info">
<p>Det vi ønsker at dere tar med dere fra denne oppgaven er at en høy <span class="math inline">\(SS_M\)</span> eller <span class="math inline">\(R^2\)</span> er <strong>mer imponerende hvis vi kun har lagt til ett ekstra parameter enn hvis vi hadde lagt til f.eks. 10 parametere</strong>. Enig?</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Bra!</span></p>
<p>Det siste vi skal gjøre er å sammenligne <span class="math inline">\(MS_M\)</span> med <span class="math inline">\(MS_R\)</span>. <strong><span class="math inline">\(MS_R\)</span></strong> er <span class="math inline">\(SS_R\)</span>, den erroren som er igjen etter at vi har brukt den alternative modellen, <strong>delt på antall parametere som i prinsippet kunne vill lagt til i modellen</strong>. I prinsippet står vi fritt til å legge til så mange parametere i modellen som vi ønsker, men antall parametere kan aldri overstige antall deltakere i studien. Men fordi vi allerede har brukt to parametere i den alternative modellen, kan vi kun legge til (24 - 2) = 22 parametere.</p>
<p><span class="math display">\[
\text{ Mean Squared Residual (MSR) }  = SS_R / df_R
\]</span>
b. Regn ut Mean Squared Residual (<span class="math inline">\(MS_R\)</span>) og sett det verdien inn i ANOVA-tabellen vår</p>
<p><strong>ANOVA-tabell</strong></p>
<table>
<thead>
<tr class="header">
<th>Modell</th>
<th>SS</th>
<th><em>df</em></th>
<th>MS</th>
<th><em>F</em></th>
<th><span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The model sum of squares (SS<sub>M</sub>)</td>
<td>2527.5</td>
<td></td>
<td>2527.5</td>
<td></td>
<td>0.78</td>
</tr>
<tr class="even">
<td>The residual sum of squares (SS<sub>R</sub>)</td>
<td>716.2875</td>
<td></td>
<td><input class='solveme nospaces' size='8' data-answer='["32.55852"]'/></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>The total sum of squares (SS<sub>T</sub>)</td>
<td>3243.784</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="info">
<p><span class="math inline">\(MS_R\)</span> er gjenstående error per parameter som potensielt kunne blitt lagt til i modellen. Med andre ord er det den gjennomsnittlige erroren som er igjen per parameter som kunne blitt lagt til i modellen. Enig?</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Vi er endelig i mål!</span></p>
<p>Nå har vi gjort alle utregningene, og vi kan bare sammenligne disse to størrelsene (<span class="math inline">\(MS_M\)</span> versus <span class="math inline">\(MS_R\)</span>) med hverandre. Dette kalles en <strong>F-test</strong>.</p>
<p><span class="math display">\[
\text{F}  = \frac{MS_M}{MS_R}
\]</span></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Regn ut vår F-verdi og sett den inn i vår ANOVA-tabell</li>
</ol>
<p><strong>ANOVA-tabell</strong></p>
<table>
<thead>
<tr class="header">
<th>Modell</th>
<th>SS</th>
<th><em>df</em></th>
<th>MS</th>
<th><em>F</em></th>
<th><span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The model sum of squares (SS<sub>M</sub>)</td>
<td>2527.5</td>
<td>1</td>
<td>2527.5</td>
<td><input class='solveme nospaces' size='5' data-answer='["77.63"]'/></td>
<td>0.78</td>
</tr>
<tr class="even">
<td>The residual sum of squares (SS<sub>R</sub>)</td>
<td>716.2875</td>
<td>22</td>
<td>32.55852</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>The total sum of squares (SS<sub>T</sub>)</td>
<td>3243.784</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Vi kan se at vår F-verdi er 77.63. Denne verdien er høyere enn den kritiske verdien for 0.05 ved <span class="math inline">\(df_M\)</span> = 1 og <span class="math inline">\(df_R\)</span> = 22. Dette kan du se i figuren under. Vi sier derfor at vår modell er signifikant, hvilket vil si at den har forbedret vår evne til å predikere utfallsvariabelen.</p>
<div class="info">
<p>En F-fordeling ser veldig lik ut som en z- og t-fordeling, og fungerer på samme måte: Vi regner ut en F-verdi, og spør om sannsynligheten for å oppnå en slik verdi gitt at null-hypotesen er sann. Null-hypotesen i en F-test er at den alternative modellen ikke forklarer noe varians. Med andre ord at <span class="math inline">\(R^2\)</span> = 0.</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="05-sammenligne_files/figure-html/unnamed-chunk-4-1.png" alt="F-test" width="60%" />
<p class="caption">
Figur 4.3: F-test
</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Done!</span></p>
<p>Da er det bare å sette seg tilbake å nyte denne sangen:</p>
<iframe width="600" height="350" src="https://www.youtube.com/embed/XHR3Rpij42Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div class="figure">
<img src="f.png" alt="" />
<p class="caption">F-testen</p>
</div>
<p>Hvis dette ikke var forståelig foreslår jeg følgende tutorials:</p>
<ul>
<li><p><a href="https://www.youtube.com/watch?v=eSJAjlavPwU" class="uri">https://www.youtube.com/watch?v=eSJAjlavPwU</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=0xWDulRHd9M" class="uri">https://www.youtube.com/watch?v=0xWDulRHd9M</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=iAE4UeoVE9A" class="uri">https://www.youtube.com/watch?v=iAE4UeoVE9A</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=OK4Xns4zabs" class="uri">https://www.youtube.com/watch?v=OK4Xns4zabs</a></p></li>
</ul>
<div class="info">
<p>Her kan du se output jeg får hvis jeg gjør den statiske analysen i R. Ser verdiene kjent ut?</p>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="sammenligne-modeller.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#aov er en forkortolse for analysis of variance (ANOVA)</span></span>
<span id="cb4-2"><a href="sammenligne-modeller.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#dette er funksjon som kommer mer R.</span></span>
<span id="cb4-3"><a href="sammenligne-modeller.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(rm <span class="sc">~</span> dummykodet, dat))</span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## dummykodet   1 2527.5  2527.5   77.63 1.15e-08 ***
## Residuals   22  716.3    32.6                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>

</div>
</div>
<div class="psyteachr_footer">
  
</div>
<script>

/* update total correct if #total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("total_correct")) {
    t.innerHTML =
      document.getElementsByClassName("correct").length + " of " +
      document.getElementsByClassName("solveme").length + " correct";
  }
}

/* solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "");
  }
  
  if (my_answer !== "" & real_answers.includes(my_answer)) {
    cl.add("correct");
  } else {
    cl.remove("correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol>0){
    var tol = JSON.parse(this.dataset.tol);  
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("correct");
    } else {
      cl.remove("correct");
    }  
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("correct");
    }  
  }
  
  update_total_correct();
}

window.onload = function() {
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('solution')) {
      buttons[i].onclick = b_func;
    }
  }
  
  /* set up solveme inputs */
  var solveme = document.getElementsByClassName("solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off"); 
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";
    
    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;
    
    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="bygge-statistisk-modeller.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hvordan-finne-linjen-i-modellen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1.5
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
